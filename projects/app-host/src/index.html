<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>IoT Ensemble</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link href="assets/freeboard/freeboard.min.css" rel="stylesheet" />
    <script src="assets/freeboard/freeboard.thirdparty.min.js"></script>
    <script type="text/javascript">
      head.js(
        "assets/freeboard/freeboard_plugins.min.js",
        // *** Load more plugins here ***
        function () {
          $(function () {
            //DOM Ready
            // debugger;
            // freeboard.initialize(true);
            // var dataUrl = null;
            // if (window.LCU && window.LCU.State.FreeboardConfigURL) {
            //   dataUrl = window.LCU.State.FreeboardConfigURL;
            // } else {
            //   var hashpattern = window.location.hash.match(/(&|#)source=([^&]+)/);
            //   dataUrl = hashpattern !== null ? hashpattern[2] : null;
            // }
            // if (dataUrl) {
            //   $.getJSON(dataUrl, function (data) {
            //     freeboard.loadDashboard(data, function () {
            //       freeboard.setEditing(false);
            //     });
            //   });
            // } else if (window.LCU && window.LCU.State.FreeboardConfigData) {
            //   freeboard.loadDashboard(window.LCU.State.FreeboardConfigData, function () {
            //     freeboard.setEditing(false);
            //   });
            // }
          });
        }
      );
    </script>

    <script id="lcu-reg">
      window.LCU = {
        // APIRoot: "https://localhost:44387",
        APIRoot: "https://www.iot-ensemble.com",
        Application: {},
        State: {
          ActionRoot: "/api/state",
          Root: "/api/state",
        //  Environment: "local",
          UsernameMock: "shannon.bruns@fathym.com",
          FreeboardURL: "https://fathym.fathym-it.com/freeboard"
        },
        Settings: {},
        User: {
          Email: "local-tester@fathym.com",
        },
      };
    </script>

    <script type="application/javascript">
      (function (b, o, n, g, s, r, c) {
        if (b[s]) return;
        b[s] = {};
        b[s].scriptToken = "XzcwMzAwMzkyNA";
        b[s].callsQueue = [];
        b[s].api = function () {
          b[s].callsQueue.push(arguments);
        };
        r = o.createElement(n);
        c = o.getElementsByTagName(n)[0];
        r.async = 1;
        r.src = g;
        r.id = s + n;
        c.parentNode.insertBefore(r, c);
      })(
        window,
        document,
        "script",
        "https://cdn.oribi.io/XzcwMzAwMzkyNA/oribi.js",
        "ORIBI"
      );

      if (window.LCU?.User?.Email) {
        ORIBI.api("setUserEmail", window.LCU?.User?.Email);
      }
    </script>
  </head>
  <body>
    <lcu-root></lcu-root>
  </body>
</html>
