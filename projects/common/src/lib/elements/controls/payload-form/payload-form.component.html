<form [formGroup]="PayloadFormGroup" (ngSubmit)="Send()">
  <mat-form-field class="mat-full-width">
    <input
      matInput
      formControlName="deviceName"
      placeholder="The Name of your Device"
      required
      [matAutocomplete]="auto"
    >
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let deviceOption of FilteredDeviceOptions | async" [value]="deviceOption">
        {{ deviceOption }}
      </mat-option>
    </mat-autocomplete>
      <!-- <mat-option
        [value]="deviceOption"
        *ngFor="let deviceOption of DeviceOptions"
      >
        {{ deviceOption }}
      </mat-option> -->
    <!-- </mat-select> -->
  </mat-form-field>

  <mat-form-field class="mat-full-width">
    <input
      matInput
      formControlName="version"
      placeholder="The Device Version"
      required
    />
  </mat-form-field>

  <mat-form-field class="mat-full-width">
    <input
      matInput
      formControlName="deviceType"
      placeholder="The Device Type"
      required
    />
  </mat-form-field>

  <mat-form-field class="mat-full-width">
    <textarea
      matInput
      formControlName="deviceData"
      placeholder="The Device Data (JSON Object '{...}')"
      required></textarea>
  </mat-form-field>

  <mat-form-field class="mat-full-width">
    <textarea
      matInput
      formControlName="sensorReadings"
      placeholder="The Sensor Readings (JSON Object '{...}')"
      required></textarea>
  </mat-form-field>

  <mat-form-field class="mat-full-width">
    <textarea
      matInput
      formControlName="sensorMetadata"
      placeholder="The Sensor Metadata (JSON Object '{...}')"
      required></textarea>
  </mat-form-field>

  <div>
    <div fxFlex></div>

    <button
      mat-raised-button
      type="submit"
      color="primary"
      [disabled]="!PayloadFormGroup.valid"
    >
      Send Message
    </button>

    <a mat-button color="warn" (click)="Cancel()">
      <mat-icon>cancel</mat-icon>
      Cancel
    </a>
  </div>
</form>
